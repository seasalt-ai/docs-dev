<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SeaChat Cart Overview &mdash; Seasalt.ai Developers 0.0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SeaChat Cart Technical Documentation" href="seachat_cart.html" />
    <link rel="prev" title="SeaChat-FAQ" href="../seachat/faq.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >
            <a href="../index.html" class="icon icon-home"> Seasalt.ai Developers
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Product Introductions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../product_introduction/seax.html">SeaX</a></li>
<li class="toctree-l1"><a class="reference internal" href="../product_introduction/seavoice.html">SeaVoice</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SeaChat</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../seachat/quickstart.html">SeaChat Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../seachat/bot_tutorial.html">SeaChat Bot Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../seachat/policy.html">SeaChat Policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../seachat/faq.html">SeaChat FAQ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SeaChat-cart</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">SeaChat Cart</a></li>
<li class="toctree-l1"><a class="reference internal" href="seachat_cart.html">Technical Docs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SeaWord</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../nlp/readme.html">SeaWord</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlp/sum_tutorial.html">Summarization API Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlp/topic_tutorial.html">Topic Extraction API Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlp/action_tutorial.html">Action Extraction API Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlp/xlingualNER_tutorial.html">Cross Lingual NER API Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlp/mr_tutorial.html">Machine Reading API Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nlp/redaction_tutorial.html">Redaction Service Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SeaVoice (Seasalt speech)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../speech/readme.html">SeaVoice README</a></li>
<li class="toctree-l1"><a class="reference internal" href="../speech/seavoice_sdk_python_tutorial.html">SeaVoice SDK (Python)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../speech/seavoice_restful_apis_tutorial.html">SeaVoice RESTful APIs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">NearMe</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../nearme/readme.html">NearMe</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nearme/data_analytics_tutorial.html">NearMe Data Analytics Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SeaChat-report</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../report/index.html">Welcome to SeaChat-report’s documentation!</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Seasalt.ai Developers</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>SeaChat Cart Overview</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/cart/readme.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="seachat-cart-overview">
<span id="cart-readme"></span><h1>SeaChat Cart Overview<a class="headerlink" href="#seachat-cart-overview" title="Permalink to this headline"></a></h1>
<p>A set of python classes and methods that provide cart functionality for chat bots.</p>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#purpose" id="id1">Purpose</a></p></li>
<li><p><a class="reference internal" href="#implementation" id="id2">Implementation</a></p></li>
<li><p><a class="reference internal" href="#integration-with-rasa" id="id3">Integration with Rasa</a></p></li>
<li><p><a class="reference internal" href="#training-data-generation" id="id4">Training Data Generation</a></p></li>
<li><p><a class="reference internal" href="#cart-menu-format" id="id5">CART MENU FORMAT</a></p></li>
<li><p><a class="reference internal" href="#menu" id="id6">Menu</a></p></li>
<li><p><a class="reference internal" href="#product" id="id7">Product</a></p></li>
<li><p><a class="reference internal" href="#modifier-groups" id="id8">Modifier groups</a></p></li>
<li><p><a class="reference internal" href="#modifiers" id="id9">Modifiers</a></p></li>
<li><p><a class="reference internal" href="#variants" id="id10">Variants</a></p></li>
<li><p><a class="reference internal" href="#json-menu-format-schema-overview" id="id11">JSON Menu Format Schema Overview</a></p></li>
</ul>
</div>
<section id="purpose">
<h2><a class="toc-backref" href="#id1">Purpose</a><a class="headerlink" href="#purpose" title="Permalink to this headline"></a></h2>
<dl class="simple">
<dt>We believe that chat and voice based e-commerce through conversational AI has a lot potential. However, when using Rasa to build a bot for ordering food and drink, we found the custom actions too restrictive. Our solution is to provide a generalized cart implementation that be integrated into any chat bot. cart.py includes classes for the cart and menu, as well as classes for items and options. Callable methods cover a wide range of capabilities, including but not limited to:</dt><dd><ul class="simple">
<li><p>Loading and setting a menu</p></li>
<li><p>Describing menu categories/items</p></li>
<li><p>Querying the menu for item matches or suggestions</p></li>
<li><p>Customizing an item</p></li>
<li><p>Adding/removing items from the cart</p></li>
<li><p>Caching user carts for multi-user support</p></li>
</ul>
</dd>
</dl>
</section>
<section id="implementation">
<h2><a class="toc-backref" href="#id2">Implementation</a><a class="headerlink" href="#implementation" title="Permalink to this headline"></a></h2>
<p>The main class is the <code class="docutils literal notranslate"><span class="pre">Cart</span></code> class, and most methods can be accessed through this class. A menu must be loaded before the cart can be modified or accessed. View the technical documentation <a class="reference internal" href="seachat_cart.html#seachat-cart"><span class="std std-ref">here</span></a> for implementation details.</p>
</section>
<section id="integration-with-rasa">
<h2><a class="toc-backref" href="#id3">Integration with Rasa</a><a class="headerlink" href="#integration-with-rasa" title="Permalink to this headline"></a></h2>
<p>Custom actions are required to bridge the gap between Rasa and the cart. Use the custom actions to collect information from the tracker, perform checks, and dispatch utterances; call <code class="docutils literal notranslate"><span class="pre">cart.py</span></code> methods from a custom action to manipulate the cart, menu, or items.</p>
</section>
<section id="training-data-generation">
<h2><a class="toc-backref" href="#id4">Training Data Generation</a><a class="headerlink" href="#training-data-generation" title="Permalink to this headline"></a></h2>
<p>SeaChat Cart provides methods to automatically produce Chatette entity examples and Rasa lookup tables. Chatette templates are used to generate initial training data for bots based on the expansion of templates marked up with entities and intents. The SeaChat Cart includes a method to extract menu-specific entities into a chatette template, which can then be included in a bot’s Chatette templates to easily add menu-specific entity data to your Chatette templates. These are intended to be used with the <code class="docutils literal notranslate"><span class="pre">cart.chatette</span></code> template file, which includes templates for the intents and entities used by SeaChat Cart.</p>
<p>Similarly, the SeaChat Cart supports automatic lookup table generation from a menu. Rasa bots can incorporate lookup tables to ensure that specific strings are consistently identified as entities. This method will output separate lookup table files for each relevant entity. These lookup tables must then be referenced in a NLU md file.</p>
<p>There are convenience scripts provided to call these methods. The scripts will generate lookup tables or chatette aliases for <code class="docutils literal notranslate"><span class="pre">options</span></code>, <code class="docutils literal notranslate"><span class="pre">items</span></code>, and <code class="docutils literal notranslate"><span class="pre">query_topics</span></code>. For detailed instructions on how to run these scripts, see the <a class="reference internal" href="tutorial.html#cart-tutorial"><span class="std std-ref">tutorial</span></a>.</p>
</section>
<section id="cart-menu-format">
<h2><a class="toc-backref" href="#id5">CART MENU FORMAT</a><a class="headerlink" href="#cart-menu-format" title="Permalink to this headline"></a></h2>
<p>SeaChat Cart uses a standardized menu format which is designed to be compatible with the majority of e-commerce products. The menu is composed of different objects: the top level <code class="docutils literal notranslate"><span class="pre">menu</span></code> object, <code class="docutils literal notranslate"><span class="pre">products</span></code>, <code class="docutils literal notranslate"><span class="pre">modifiers</span></code>, <code class="docutils literal notranslate"><span class="pre">modifier_groups</span></code>, and <code class="docutils literal notranslate"><span class="pre">variants</span></code>.</p>
</section>
<section id="menu">
<h2><a class="toc-backref" href="#id6">Menu</a><a class="headerlink" href="#menu" title="Permalink to this headline"></a></h2>
<p>At the top level, A menu is composed of 4 attributes: <code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">currency</span></code>, <code class="docutils literal notranslate"><span class="pre">products</span></code>, <code class="docutils literal notranslate"><span class="pre">modifiers</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;store_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Text&quot;</span><span class="p">,</span>
    <span class="s2">&quot;currency&quot;</span><span class="p">:</span> <span class="s2">&quot;Text&quot;</span><span class="p">,</span>
    <span class="s2">&quot;products&quot;</span><span class="p">:</span> <span class="s2">&quot;List[Dict[Text, Any]]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;modifiers&quot;</span><span class="p">:</span> <span class="s2">&quot;List[Dict[Text, Any]]&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">store_name</span></code> is the way that the name will be displayed to users of the bot.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">currency</span></code> field is the three-letter acronym for the currency used to represent prices in the menu:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;currency: &quot;</span><span class="n">USD</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>The products and modifiers fields are both lists of dictionary objects. The <code class="docutils literal notranslate"><span class="pre">product</span></code> list contains information about purchasable items and combos (Caffe Americano, 8 Piece Family Meal, Grande Nacho Box Combo, etc). The <code class="docutils literal notranslate"><span class="pre">modifiers</span></code> list contains information about modifiers that can be attached to these products.</p>
</section>
<section id="product">
<h2><a class="toc-backref" href="#id7">Product</a><a class="headerlink" href="#product" title="Permalink to this headline"></a></h2>
<p>Products are purchasable items on the menu.
A product entry has the following format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>  <span class="c1"># The item&#39;s name (ex/ Americano, Cheeseburger Meal)</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>  <span class="c1"># A unique identifier for the product</span>
    <span class="s2">&quot;aliases&quot;</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Text</span><span class="p">],</span>  <span class="c1"># A list of synonyms for this item, e.g., [&quot;number 7&quot;, &quot;5 dollar fill up&quot;].</span>
    <span class="s2">&quot;categories&quot;</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Text</span><span class="p">],</span>  <span class="c1"># A list of category names relevant to the product (ex/ Hot Drinks)</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;combo&#39;</span><span class="p">,</span> <span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="s1">&#39;virtual&#39;</span><span class="p">},</span>  <span class="c1"># product type, as explained above</span>
    <span class="s2">&quot;subtype&quot;</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Text</span><span class="p">]</span> <span class="c1"># None or more specific types, such as &quot;sides&quot;, &quot;beverages&quot;</span>
    <span class="s2">&quot;recommendation_score&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>  <span class="c1"># A base recommendation score, used for suggesting items to users</span>
    <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Text</span><span class="p">],</span>  <span class="c1"># A list of tags (ex/ hot, sweet, drink, coffee) used for item retrieval</span>
    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Text</span><span class="p">],</span>  <span class="c1"># A description of the product</span>
    <span class="s2">&quot;ingredients&quot;</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Text</span><span class="p">],</span>  <span class="c1"># A list of ingredients in the product</span>
    <span class="s2">&quot;calories&quot;</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]],</span>  <span class="c1"># calorie information. Can be represented as an int, or a range [int, int]</span>
    <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>  <span class="c1">#  base item price (without modifiers)</span>
    <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Text</span><span class="p">],</span>  <span class="c1"># a url to an image</span>
    <span class="s2">&quot;modifier_groups&quot;</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">Text</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>  <span class="c1"># A list of modifier groups (customizable options)</span>
<span class="p">}</span>
</pre></div>
</div>
<p>There are three types of products: <code class="docutils literal notranslate"><span class="pre">item</span></code>, <code class="docutils literal notranslate"><span class="pre">combo</span></code>, and <code class="docutils literal notranslate"><span class="pre">virtual</span></code>.</p>
<p><strong>Item</strong></p>
<p>A product of type <code class="docutils literal notranslate"><span class="pre">item</span></code> is a single purchasable item. These items can be customized with modifiers only in their modifier groups. Here’s an example of an item from the Starbucks menu:</p>
<div class="highlight-JSON notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Caffè Americano&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">776000</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;aliases&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;cafe americano&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;coffee americano&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;Hot Coffees&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;item&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;recommendation_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">538000</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;Hot&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;beverages&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Espresso shots topped with hot water create a light layer of crema culminating in this wonderfully rich cup with depth and nuance. \n Pro Tip: For an additional boost, ask your barista to try this with an extra shot.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;ingredients&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;Water&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;Brewed Espresso&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;calories&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;price&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">2.95</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;image&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://globalassets.starbucks.com/assets/f12bc8af498d45ed92c5d6f1dac64062.jpg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;modifier_groups&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;size&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;category&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sizes&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;query_users_for_modifier&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;minimum&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;maximum&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;modifiers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Short&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">663000</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;price_change&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.7</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;calorie_change&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">-10</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Tall&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">663001</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;price_change&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">-0.5</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;calorie_change&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">-5</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Grande&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">663002</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;price_change&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;calorie_change&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Combo</strong></p>
<p>A <code class="docutils literal notranslate"><span class="pre">combo</span></code> product is a set of items that come together; for example, a cheesebuger meal that comes with a drink and fries. In contrast to an <code class="docutils literal notranslate"><span class="pre">item</span></code> type, a combo can have modifiers, as well as other items in it’s modifier groups. In the case of a combo, you may be able to choose between several items (do you want a cheeseburger, hambuger, or veggieburger?), and each item may also be customized by its own modifiers. The crucial difference between an item and combo is that a combo will have items in it’s modifier groups, and then will check if those items have customizable options. A simple item type will never check if it’s modifiers have further customizations. Here’s an example of a combo from the TacoBell menu:</p>
<div class="highlight-JSON notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Mexican Pizza Combo&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;Combos&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;recommendation_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;combo&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;image&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://www.tacobell.com/images/22604_4._mexican_pizza_combo_640x650.jpg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Served with a large taco, 2 crunchy taco supreme and a Mexican pizza.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;Combos&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;calories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="mi">1330</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="mi">1330</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;price&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">7.19</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;22604&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;modifier_groups&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Item 1: Select your drink&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;minimum&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;maximum&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;modifiers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Mountain Dew Baja Blast® Freeze - Regular&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1491&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;price_change&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Strawberry Skittles® Freeze - Regular&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1615&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;price_change&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.4</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Item 3: Crunchy Taco Supreme®. Would you like to swap this for something else?&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;minimum&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;maximum&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;modifiers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Soft Taco Supreme®&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;22111&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;price_change&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Crunchy Taco Supreme®&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;22101&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;price_change&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Nacho Cheese Doritos® Locos Tacos Supreme®&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;22173&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;price_change&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p><strong>Virtual</strong></p>
<p>A <code class="docutils literal notranslate"><span class="pre">virtual</span></code> product is similar to a combo, but always contains an item in its modifier_group whose details and own modifier groups the bot should treat as if they were those of the main item. For example, rather than selecting a Breakfast Burrito, then choosing between bacon and sausage as addons, a user would select the virtual Breakfast Burrito, then select either “Breakfast Burrito - Bacon” or “Breakfast Burrito - Sausage” as a modifier. The bot should then treat this selection as it were the actual cart item when displaying information. Here’s an example of a virtual item from the TacoBell menu:</p>
<div class="highlight-JSON notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Power Menu Bowl&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;Specialties&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;Power Menu&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;recommendation_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtual&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;image&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://www.tacobell.com/images/22488_power_menu_bowl_640x650.jpg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;We start with a bed of seasoned rice and top it with fire grilled chicken, black beans, fresh pico de gallo, premium guacamole, sour cream, lettuce, shredded cheddar cheese and avocado ranch sauce.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;Specialties&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="s2">&quot;Power Menu&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;calories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="mi">470</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;price&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">5.49</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;virtual-22488&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;modifier_groups&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Which style of Power Menu Bowl would you like?&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;minimum&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;maximum&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;modifiers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Power Menu Bowl - Chicken&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;22488&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Power Menu Bowl - Steak&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;22489&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>And here’s the entry for the <code class="docutils literal notranslate"><span class="pre">Power</span> <span class="pre">Menu</span> <span class="pre">Bowl</span> <span class="pre">-</span> <span class="pre">Chicken</span></code>:</p>
<div class="highlight-JSON notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Power Menu Bowl - Chicken&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;categories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;recommendation_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;item&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;image&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://www.tacobell.com/images/22488_power_menu_bowl_640x650.jpg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;We start with a bed of seasoned rice and top it with fire grilled chicken, black beans, fresh pico de gallo, premium guacamole, sour cream, lettuce, shredded cheddar cheese and avocado ranch sauce.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;tags&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;calories&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="mi">45</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;price&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">5.49</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;22488&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;modifier_groups&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Would you like to change the protein?&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;minimum&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;maximum&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;modifiers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;No Chicken&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2271&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;price_change&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Extra Chicken&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2273&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;price_change&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">1.3</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Shredded Chicken&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;22782&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;price_change&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">]</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Note that the two items in its modifier groups in turn have their own distinct modifier groups. The virtual item lets us take advantage of a system already in place for combos (i.e. listing items in modifier groups) in order to set up this kind of conditionality of modifier groups without adding additional complexity. That is, it gives us an easy way to say “if you get it with chicken, here are the modifier groups for that, but if you get it with steak, here are the modifier groups for that.”</p>
</section>
<section id="modifier-groups">
<h2><a class="toc-backref" href="#id8">Modifier groups</a><a class="headerlink" href="#modifier-groups" title="Permalink to this headline"></a></h2>
<p>Each product has a list of <code class="docutils literal notranslate"><span class="pre">modifier_groups</span></code> which contain possible customizations/modifiers for the product. Modifier groups organize these modifiers into meaningful groups which have information about the group type, min and max number of selections, and whether or not the bot should ask the user about the group. Here’s the format for a modifier group:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>  <span class="c1"># The name of the group (ex/ size, sauces)</span>
<span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>  <span class="c1"># A more general category for the group (ex/ toppings, sides)</span>
<span class="s2">&quot;query_users_for_modifier&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>  <span class="c1"># whether the bot should ask the user about the group</span>
<span class="s2">&quot;minimum&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>  <span class="c1"># minimum number of modifier selections from the group</span>
<span class="s2">&quot;maximum&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>  <span class="c1"># maximum number of modifier selections from the group (-1 = no limit)</span>
<span class="s2">&quot;modifiers&quot;</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">Text</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>  <span class="c1"># A list of possible modifiers</span>
</pre></div>
</div>
</section>
<section id="modifiers">
<h2><a class="toc-backref" href="#id9">Modifiers</a><a class="headerlink" href="#modifiers" title="Permalink to this headline"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">modifier</span></code> is the actual customization that can be applied to the product. For example: <code class="docutils literal notranslate"><span class="pre">small</span></code>, <code class="docutils literal notranslate"><span class="pre">sour</span> <span class="pre">cream</span></code>, or <code class="docutils literal notranslate"><span class="pre">caramel</span> <span class="pre">drizzle</span></code>. Modifiers exist in two places in the menu: inside a product’s modifier group, and inside the modifiers list of the menu. Modifier objects in the modifier list are the absolute representation of the modifier; they contain the concrete information about the modifier that is true no matter what item it is attached to. Here is the format for a full modifier:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>  <span class="c1"># modifier name (ex/ caramel drizzle, sour cream)</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>  <span class="c1"># a unique id for the modifier</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;modifier&quot;</span><span class="p">,</span>  <span class="c1"># specify this object is type modifier</span>
    <span class="s2">&quot;countable&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>  <span class="c1"># whether this modifier is countable or not (# of shots vs size Tall)</span>
    <span class="s2">&quot;quantity&quot;</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>  <span class="c1"># The default quantity, if it is countable</span>
    <span class="s2">&quot;unit_of_measure&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>  <span class="c1"># how the quantity is measured (ex/ shots, pumps, packets)</span>
    <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>  <span class="c1"># price, if the modifier has a standard price</span>
    <span class="s2">&quot;calories&quot;</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">]],</span>  <span class="c1"># calories, if the modifier has standard calories</span>
    <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Text</span><span class="p">],</span>  <span class="c1"># optional description</span>
    <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Text</span><span class="p">],</span>  <span class="c1"># url if there is an image available</span>
    <span class="s2">&quot;variants&quot;</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Text</span><span class="p">,</span> <span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">Text</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span>  <span class="c1"># A list of modifier variants</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Modifiers inside a product’s modifier group contain information about how the modifier is when it is attached to a specific item. The information in these modifiers can be thought of as overrides - in general all the information about a modifier can be found in the menu modifiers list, but sometimes the price or calories of a modifier changes depending on what item it is modifying. Here’s the format for a modifier inside a modifier group:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>  <span class="c1"># The name of the modifier for easy access</span>
<span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>  <span class="c1"># the if of the modifier (refers back to the modifier object in the menu modifier list)</span>
<span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>  <span class="c1"># if this modifier comes with the item by default or not</span>
<span class="s2">&quot;price_change&quot;</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>  <span class="c1"># how much this option will change the base price of the item</span>
<span class="s2">&quot;calorie_change&quot;</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]],</span>  <span class="c1"># how much this option will change the base calories</span>
<span class="s2">&quot;variants&quot;</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="n">Text</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span>  <span class="c1"># A list of modifier variants</span>
</pre></div>
</div>
</section>
<section id="variants">
<h2><a class="toc-backref" href="#id10">Variants</a><a class="headerlink" href="#variants" title="Permalink to this headline"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">variants</span></code> are slightly different versions of a modifier. For example, if there is a modifier <code class="docutils literal notranslate"><span class="pre">whipped</span> <span class="pre">cream</span></code>, it might have the variants <code class="docutils literal notranslate"><span class="pre">extra</span> <span class="pre">whipped</span> <span class="pre">cream</span></code>, <code class="docutils literal notranslate"><span class="pre">light</span> <span class="pre">whipped</span> <span class="pre">cream</span></code>, and <code class="docutils literal notranslate"><span class="pre">no</span> <span class="pre">whipped</span> <span class="pre">cream</span></code>. By definition these variants contradict each other, and therefor only one variant from a single modifier can be added to an item. Similar to how modifiers can override certain aspects of an item, variants can override certain attributes of their parent modifier, such as price and calories. All the possible variants for a modifier can be found in the menu’s <code class="docutils literal notranslate"><span class="pre">modifiers</span></code> list. If a specific item can have a variant as a modifier, that variant will appear in the variants list of the modifier in the modifier group.  Here is the format for variants:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>  <span class="c1"># The name of the variant</span>
<span class="s2">&quot;price_change&quot;</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>  <span class="c1"># how this modification will affect the price of the product</span>
<span class="s2">&quot;calorie_change&quot;</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]],</span>  <span class="c1"># how this modification will affect the calories of the product</span>
</pre></div>
</div>
</section>
<section id="json-menu-format-schema-overview">
<h2><a class="toc-backref" href="#id11">JSON Menu Format Schema Overview</a><a class="headerlink" href="#json-menu-format-schema-overview" title="Permalink to this headline"></a></h2>
<p>menu file naming: ‘/{store_name}.json’</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;store_name&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>
    <span class="s2">&quot;currency&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>
    <span class="s2">&quot;products&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>
            <span class="s2">&quot;categories&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">Text</span><span class="p">],</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="s1">&#39;combo&#39;</span><span class="p">,</span> <span class="s1">&#39;virtual&#39;</span><span class="p">}</span>
            <span class="s2">&quot;recommendation_score&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
            <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">Text</span><span class="p">],</span>
            <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>
            <span class="s2">&quot;ingredients&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">Text</span><span class="p">],</span>
            <span class="s2">&quot;calories&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nb">int</span><span class="p">,</span> <span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]},</span>
            <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
            <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>
            <span class="s2">&quot;modifier_groups&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>
                    <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>
                    <span class="s2">&quot;query_user_for_modifier&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
                    <span class="s2">&quot;minimum&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                    <span class="s2">&quot;maximum&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                    <span class="s2">&quot;modifiers&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">{</span>
                            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>
                            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>
                            <span class="s2">&quot;price_change&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                            <span class="s2">&quot;calorie_change&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                            <span class="s2">&quot;variants&quot;</span><span class="p">:</span> <span class="p">[</span>
                                <span class="p">{</span>
                                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>
                                    <span class="s2">&quot;price_change&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                    <span class="s2">&quot;calorie_change&quot;</span><span class="p">:</span> <span class="nb">int</span>
                                <span class="p">},</span> <span class="o">...</span>
                            <span class="p">]</span>
                        <span class="p">},</span> <span class="o">...</span>
                    <span class="p">]</span>
                <span class="p">},</span> <span class="o">...</span>
            <span class="p">]</span>
        <span class="p">},</span> <span class="o">...</span>
    <span class="p">],</span>
    <span class="s2">&quot;modifiers&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;modifier&quot;</span><span class="p">,</span>
            <span class="s2">&quot;countable&quot;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
            <span class="s2">&quot;quantity&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
            <span class="s2">&quot;unit_of_measure&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>
            <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
            <span class="s2">&quot;calories&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
            <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>
            <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>
            <span class="s2">&quot;variants&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">Text</span><span class="p">,</span>
                    <span class="s2">&quot;price_change&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                    <span class="s2">&quot;calorie_change&quot;</span><span class="p">:</span> <span class="nb">int</span>
                <span class="p">},</span> <span class="o">...</span>
            <span class="p">]</span>
        <span class="p">},</span> <span class="o">...</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Base price should be based on the default version of the item, like the standard size. Base price is summed with the price of the item’s modifiers to get the total cost.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../seachat/faq.html" class="btn btn-neutral float-left" title="SeaChat-FAQ" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="seachat_cart.html" class="btn btn-neutral float-right" title="SeaChat Cart Technical Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-2021, Seasalt.ai.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-10405841-8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-10405841-8', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>